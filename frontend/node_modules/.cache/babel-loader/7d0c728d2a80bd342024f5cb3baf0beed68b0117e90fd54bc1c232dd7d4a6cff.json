{"ast":null,"code":"import axios from 'axios';\nconst API_BASE_URL = process.env.NODE_ENV === 'production' ? '' : 'http://localhost:5001';\nconst api = axios.create({\n  baseURL: `${API_BASE_URL}/api`,\n  timeout: 10000\n});\nexport const analyticsAPI = {\n  // Health check\n  healthCheck: async () => {\n    const response = await api.get('/health');\n    return response.data;\n  },\n  // KPI Metrics\n  getKPIMetrics: async () => {\n    const response = await api.get('/kpi');\n    return response.data;\n  },\n  // Revenue by Region\n  getRevenueByRegion: async () => {\n    const response = await api.get('/revenue-by-region');\n    return response.data;\n  },\n  // Revenue by Channel\n  getRevenueByChannel: async () => {\n    const response = await api.get('/revenue-by-channel');\n    return response.data;\n  },\n  // Daily Trends\n  getDailyTrends: async () => {\n    const response = await api.get('/daily-trends');\n    return response.data;\n  },\n  // Monthly Trends\n  getMonthlyTrends: async () => {\n    const response = await api.get('/monthly-trends');\n    return response.data;\n  },\n  // Price Distribution\n  getPriceDistribution: async () => {\n    const response = await api.get('/price-distribution');\n    return response.data;\n  },\n  // Filter Options\n  getFilterOptions: async () => {\n    const response = await api.get('/filter-options');\n    return response.data;\n  },\n  // Table Data with Filters\n  getTableData: async (page = 1, perPage = 50, sortBy = 'Date', sortOrder = 'desc', filters) => {\n    const params = {\n      page,\n      per_page: perPage,\n      sort_by: sortBy,\n      sort_order: sortOrder\n    };\n    if (filters) {\n      var _filters$regions, _filters$channels;\n      if (filters.start_date) params.start_date = filters.start_date;\n      if (filters.end_date) params.end_date = filters.end_date;\n      if ((_filters$regions = filters.regions) !== null && _filters$regions !== void 0 && _filters$regions.length) params.regions = filters.regions.join(',');\n      if ((_filters$channels = filters.channels) !== null && _filters$channels !== void 0 && _filters$channels.length) params.channels = filters.channels.join(',');\n      if (filters.min_price !== undefined) params.min_price = filters.min_price;\n      if (filters.max_price !== undefined) params.max_price = filters.max_price;\n    }\n    const response = await api.get('/data', {\n      params\n    });\n    return response.data;\n  },\n  // Filtered Analytics\n  getFilteredAnalytics: async filters => {\n    const response = await api.post('/analytics/filtered', filters);\n    return response.data;\n  },\n  // File Upload\n  uploadFile: async file => {\n    const formData = new FormData();\n    formData.append('file', file);\n    const response = await api.post('/upload', formData, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    });\n    return response.data;\n  }\n};\nexport default analyticsAPI;","map":{"version":3,"names":["axios","API_BASE_URL","process","env","NODE_ENV","api","create","baseURL","timeout","analyticsAPI","healthCheck","response","get","data","getKPIMetrics","getRevenueByRegion","getRevenueByChannel","getDailyTrends","getMonthlyTrends","getPriceDistribution","getFilterOptions","getTableData","page","perPage","sortBy","sortOrder","filters","params","per_page","sort_by","sort_order","_filters$regions","_filters$channels","start_date","end_date","regions","length","join","channels","min_price","undefined","max_price","getFilteredAnalytics","post","uploadFile","file","formData","FormData","append","headers"],"sources":["/Users/marwankashef/Desktop/Early AI-dopters/Claude Code Demo 11/frontend/src/services/api.ts"],"sourcesContent":["import axios from 'axios';\nimport {\n  KPIMetrics,\n  RegionData,\n  ChannelData,\n  TrendData,\n  MonthlyTrend,\n  PriceDistribution,\n  FilterOptions,\n  DataFilters,\n  TableData,\n  AnalyticsData\n} from '../types';\n\nconst API_BASE_URL = process.env.NODE_ENV === 'production' ? '' : 'http://localhost:5001';\n\nconst api = axios.create({\n  baseURL: `${API_BASE_URL}/api`,\n  timeout: 10000,\n});\n\nexport const analyticsAPI = {\n  // Health check\n  healthCheck: async (): Promise<{ status: string; timestamp: string }> => {\n    const response = await api.get('/health');\n    return response.data;\n  },\n\n  // KPI Metrics\n  getKPIMetrics: async (): Promise<KPIMetrics> => {\n    const response = await api.get('/kpi');\n    return response.data;\n  },\n\n  // Revenue by Region\n  getRevenueByRegion: async (): Promise<RegionData[]> => {\n    const response = await api.get('/revenue-by-region');\n    return response.data;\n  },\n\n  // Revenue by Channel\n  getRevenueByChannel: async (): Promise<ChannelData[]> => {\n    const response = await api.get('/revenue-by-channel');\n    return response.data;\n  },\n\n  // Daily Trends\n  getDailyTrends: async (): Promise<TrendData[]> => {\n    const response = await api.get('/daily-trends');\n    return response.data;\n  },\n\n  // Monthly Trends\n  getMonthlyTrends: async (): Promise<MonthlyTrend[]> => {\n    const response = await api.get('/monthly-trends');\n    return response.data;\n  },\n\n  // Price Distribution\n  getPriceDistribution: async (): Promise<PriceDistribution[]> => {\n    const response = await api.get('/price-distribution');\n    return response.data;\n  },\n\n  // Filter Options\n  getFilterOptions: async (): Promise<FilterOptions> => {\n    const response = await api.get('/filter-options');\n    return response.data;\n  },\n\n  // Table Data with Filters\n  getTableData: async (\n    page: number = 1,\n    perPage: number = 50,\n    sortBy: string = 'Date',\n    sortOrder: 'asc' | 'desc' = 'desc',\n    filters?: DataFilters\n  ): Promise<TableData> => {\n    const params: any = {\n      page,\n      per_page: perPage,\n      sort_by: sortBy,\n      sort_order: sortOrder,\n    };\n\n    if (filters) {\n      if (filters.start_date) params.start_date = filters.start_date;\n      if (filters.end_date) params.end_date = filters.end_date;\n      if (filters.regions?.length) params.regions = filters.regions.join(',');\n      if (filters.channels?.length) params.channels = filters.channels.join(',');\n      if (filters.min_price !== undefined) params.min_price = filters.min_price;\n      if (filters.max_price !== undefined) params.max_price = filters.max_price;\n    }\n\n    const response = await api.get('/data', { params });\n    return response.data;\n  },\n\n  // Filtered Analytics\n  getFilteredAnalytics: async (filters: DataFilters): Promise<AnalyticsData> => {\n    const response = await api.post('/analytics/filtered', filters);\n    return response.data;\n  },\n\n  // File Upload\n  uploadFile: async (file: File): Promise<{ message: string; records: number; backup_file: string }> => {\n    const formData = new FormData();\n    formData.append('file', file);\n\n    const response = await api.post('/upload', formData, {\n      headers: {\n        'Content-Type': 'multipart/form-data',\n      },\n    });\n    return response.data;\n  },\n};\n\nexport default analyticsAPI;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}